<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/reset.css">
    <script src="../js/jquery-3.1.1.min.js"></script>

    <style>
        .wrapper li img{width: 100%;}
        .wrapper{
            width: 700px; height: 300px; margin: 0 auto;
            overflow: hidden;
        }
        .wrapper ul{position: relative; width: 100%; height: 280px;}
        .wrapper li{position: absolute; width: 100%; height: 100%; left: 100;}
        .wrapper li:first-child{left: 0;}
    </style>
</head>
<body>
    <div class="wrapper">
        <ul class="slide">
            <li><img src="../images/images01.jpg" alt=""></li>
            <li><img src="../images/images02.jpg" alt=""></li>
            <li><img src="../images/images03.jpg" alt=""></li>
            <li><img src="../images/images04.jpg" alt=""></li>
            <li><img src="../images/images05.jpg" alt=""></li>
        </ul>
        <div>
            <span class="prev">prev</span> <span class="next">next</span>
        </div>
    </div>

    <script>
        
        let current = 0;
        const liNum = $(".slide > li").length;
        let overBtn = true;

        $(".next").click(function(){
                if (overBtn == true){
                    overBtn = false;
                    $(".wrapper li").eq(current).css("left", 0).stop().animate({left: "-100%"},1000);
                    current++;
                    if (current == liNum){current = 0}
                    $(".wrapper li").eq(current).css("left", "100%").stop().animate({left: 0}, 1000,function(){overBtn = true})

                    console.log(current)
                }
            });

            $(".prev").click(function () {
                    if (overBtn == true) {
                        overBtn = false;
                        $(".wrapper li").eq(current).css("left", 0).stop().animate({ left: "100%" }, 1000);

                        current--;
                        if (current < 0) { current = liNum - 1 }

                        $(".wrapper li").eq(current).css("left", "-100%").stop().animate({ left: 0 }, 1000,function(){overBtn = true})
                        console.log(current)
                    }
                })

        // setInterval(nextTrigger,3000);

        // setTimeout(nextTrigger,0);

        function nextTrigger(){
            $(".next").trigger("click")
        }

    </script>
</body>
</html>